{"version":3,"sources":["../src/lang.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAS,UAAU,QAAQ,eAAe;AAC1C,SAAS,GAAG,EAAE,KAAK,QAAkB,MAAM;AAE3C,MAAM,WAAW;AACjB,MAAM,eAAe;IAGnB,sCACS;AAFX,OAAO,MAAM;IAkBX,IAAI,QAAgC;QAClC,OAAO,sBAAA,IAAI,EAAE,QAAM,KAAK;IAC1B;IAEA,IAAI,cAA2B;QAC7B,OAAO,sBAAA,IAAI,EAAE,cAAY,KAAK;IAChC;IAEA,IAAI,OAAoB;QACtB,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,OAAO,OAAO,IAAI;IACpD;IAEA,IAAI,KAAK,IAAiB,EAAE;QAC1B,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG;IACzB;IA5BA,aAAc;QAHd,6BAAA;;mBAAA,KAAA;;QACA,6BAAS;;mBAAT,KAAA;;QAGE,MAAM,oCAAe,QAAQ,WAE3B,2BAA2B,CAAC;oCACxB,cAAc,IAAI,IAAI,CAAC,IAAI;QAEjC,MACE,IAAM,MAAM,KAAK,CAAC,SAAS,EAC3B,CAAC,WAAa;YACZ,sBAAA,IAAI,EAAE,cAAY,KAAK,GAAG,qBAAA,sBAAA,WAAY,YAAY;QACpD;IAEJ;AAiBF,CAAC;AAED,OAAO,MAAM,UAAU,IAAI,OAAO","file":"lang.js","sourcesContent":["import { useStorage } from \"@vueuse/core\";\nimport { ref, watch, type Ref } from \"vue\";\n\nconst LANG_KEY = \"default-lang\";\nconst DEFAULT_LANG = \"js\";\n\nexport class Lang {\n  #store: Ref<Record<string, string>>;\n  readonly #currentLang: Ref<\"ts\" | \"js\">;\n\n  constructor() {\n    const store = (this.#store = useStorage<\n      Record<string, string>\n    >(\"VUEPRESS_CODE_TAB_STORE\", {}));\n    this.#currentLang = ref(this.lang);\n\n    watch(\n      () => store.value[LANG_KEY] as \"ts\" | \"js\" | undefined,\n      (newValue) => {\n        this.#currentLang.value = newValue ?? DEFAULT_LANG;\n      }\n    );\n  }\n\n  get store(): Record<string, string> {\n    return this.#store.value;\n  }\n\n  get currentLang(): \"ts\" | \"js\" {\n    return this.#currentLang.value;\n  }\n\n  get lang(): \"ts\" | \"js\" {\n    return this.store[LANG_KEY] === \"ts\" ? \"ts\" : \"js\";\n  }\n\n  set lang(lang: \"ts\" | \"js\") {\n    this.store[LANG_KEY] = lang;\n  }\n}\n\nexport const STORAGE = new Lang();\n"]}