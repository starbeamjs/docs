{"version":3,"sources":["../src/lang.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAS,UAAU,QAAQ,eAAe;AAC1C,SAAS,GAAG,EAAE,KAAK,QAAkB,MAAM;AAE3C,MAAM,WAAW;AACjB,MAAM,eAAe;IAMV;AAJX,OAAO,MAAM;IAgBX,IAAI,cAA2B;QAC7B,OAAO,sBAAA,IAAI,EAAE,cAAY,KAAK;IAChC;IAEA,IAAI,OAAoB;QACtB,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,KAAK,OAAO,OAAO,IAAI;IAC1D;IAEA,IAAI,KAAK,IAAiB,EAAE;QAC1B,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG;IAC/B;IApBA,aAAc;aALd,QAAqC,WAEnC,2BAA2B,CAAC;QAC9B,6BAAS;;mBAAe,IAAI,IAAI,CAAC,IAAI;;QAGnC,MACE,IACE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,EAC5B,CAAC,WAAa;YACZ,sBAAA,IAAI,EAAE,cAAY,KAAK,GAAG,qBAAA,sBAAA,WAAY,YAAY;QACpD;IAEJ;AAaF,CAAC;AAED,OAAO,MAAM,UAAU,IAAI,OAAO","file":"lang.js","sourcesContent":["import { useStorage } from \"@vueuse/core\";\nimport { ref, watch, type Ref } from \"vue\";\n\nconst LANG_KEY = \"default-lang\";\nconst DEFAULT_LANG = \"js\";\n\nexport class Lang {\n  store: Ref<Record<string, string>> = useStorage<\n    Record<string, string>\n  >(\"VUEPRESS_CODE_TAB_STORE\", {});\n  readonly #currentLang = ref(this.lang);\n\n  constructor() {\n    watch(\n      () =>\n        this.store.value[LANG_KEY] as \"ts\" | \"js\" | undefined,\n      (newValue) => {\n        this.#currentLang.value = newValue ?? DEFAULT_LANG;\n      }\n    );\n  }\n\n  get currentLang(): \"ts\" | \"js\" {\n    return this.#currentLang.value;\n  }\n\n  get lang(): \"ts\" | \"js\" {\n    return this.store.value[LANG_KEY] === \"ts\" ? \"ts\" : \"js\";\n  }\n\n  set lang(lang: \"ts\" | \"js\") {\n    this.store.value[LANG_KEY] = lang;\n  }\n}\n\nexport const STORAGE = new Lang();\n"]}